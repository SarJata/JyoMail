{% extends "base.html" %}
{% block title %}Compose Email{% endblock %}

{% block content %}
<div class="card" style="max-width: 800px; margin: 0 auto;">
  <div style="padding: 1.5rem; border-bottom: 1px solid var(--border-color);">
    <h2 style="margin-bottom: 0;">New Message</h2>
  </div>

  <div style="padding: 2rem;">
    {% if success %}
    <div
      style="background: #f0fdf4; color: #166534; padding: 1rem; border-radius: var(--radius-md); margin-bottom: 1.5rem;">
      {{ success }}
    </div>
    {% endif %}

    <form method="post">
      {% csrf_token %}

      {% if form.errors %}
      <div
        style="background: #fef2f2; color: var(--danger-color); padding: 0.75rem; border-radius: var(--radius-md); margin-bottom: 1.5rem; font-size: 0.875rem;">
        Please correct the errors below.
      </div>
      {% endif %}

      {% for field in form %}
      <div class="form-group">
        <label for="{{ field.id_for_label }}">{{ field.label }}</label>
        {{ field }}
        {% for error in field.errors %}
        <div style="color: var(--danger-color); font-size: 0.875rem; margin-top: 0.25rem;">{{ error }}</div>
        {% endfor %}
      </div>
      {% endfor %}

      <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 2rem;">
        <a href="{% url 'inbox' %}" class="btn"
          style="background: white; border: 1px solid var(--border-color);">Cancel</a>
        <button type="submit" class="btn btn-primary">Send Message</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}